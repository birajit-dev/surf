<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://cdn.tiny.cloud/1/lku2o3ma1r45gsou8gld5ns35eaftpsevrx6jpr7czrc3424/tinymce/6/tinymce.min.js" referrerpolicy="origin"></script>


    <script>
        tinymce.init({
          selector: '#mytextarea',
          content_style:
    "@import url('https://fonts.googleapis.com/css?family=Droid Serif');body { font-family: Droid Serif; ",
          font_formats:"Droid: Droid Serif;",
          plugins: [
            'a11ychecker','advlist','advcode','advtable','autolink','checklist','export',
            'lists','link','image','charmap','preview','anchor','searchreplace','visualblocks',
            'powerpaste','fullscreen','formatpainter','insertdatetime','media','table','help','wordcount', 'code'
          ],
          toolbar: 'asechange blocks fontfamily fontsize | forecolor link bold italic alignleft aligncenter alignright alignjustify | ' +
            'bullist numlist checklist outdent indent | removeformat | table help |  '
        });
        </script>


    <title>Fucking World!</title>

   
  </head>
  <body>

    <%- include('fuckingheader.ejs'); %> 

    <% if(newsE != ''){ %>


    <div class="container-sm" style="padding-top: 10px;">
    <form method="post" action="/admin/user/updatefuckingnews" >
        <div class="row">

            <input type="hidden" name="id" id="id" value="<%= newsE._id %>">

            <div class="col-sm-8">
                <div class="input-group mb-3">
                    <span class="input-group-text" id="basic-addon2">Title</span>
                    <input type="text" class="form-control" placeholder="News Title" aria-label="Recipient's username" aria-describedby="basic-addon2" name="name" id="name" required value="<%= newsE.post_name %>">
                </div>

                <div class="input-group mb-3">
                    <span class="input-group-text" id="basic-addon2"><a href="#" onclick="myFunction()">Permalink</a></span>
                    <input type="text" class="form-control" aria-label="Recipient's username" name="url" id="url" aria-describedby="basic-addon2" required value="<%= newsE.post_url %>"> 
                </div>

                <script>
                    function myFunction() {
                
                        var a = document.getElementById("name").value;
                
                        var b = a.toLowerCase().replace(/ /g, '-')
                            .replace(/[^\w-]+/g, '');
                
                        document.getElementById("url").value = b;
                                    }
                </script>
                

                <div class="input-group">
                    <span class="input-group-text">Summary</span>
                    <textarea class="form-control" aria-label="With textarea" name="summary" required><%= newsE.post_summary %></textarea>
                </div>
                <br>
                <textarea class="form-control" id="mytextarea" name="mytextarea" rows="15" required><%= newsE.post_content %></textarea>

                <br>
                
                <div class="input-group mb-3">
                    <span class="input-group-text" id="basic-addon2">Keyword</span>
                    <input type="text" class="form-control" aria-label="Recipient's username" name="keyword" aria-describedby="basic-addon2" required value="<%= newsE.post_keyword %>">
                </div>

                <div class="input-group">
                    <span class="input-group-text">Meta Description</span>
                    <textarea class="form-control" aria-label="With textarea" name="description" required><%= newsE.meta_description %></textarea>
                </div>
            </div>


            <div class="col-sm-4">
                <select class="form-select" multiple aria-label="multiple select example" name="author" required>
                    <option value="<%= newsE.author %>" selected><%= newsE.author %></option>
                    <option value="Surf Bureau">Surf Bureau</option>
                    <option value="Swmai Debbarma">Swmai Debbarma</option>
                  </select>

                <select class="form-select" multiple aria-label="multiple select example" name="category" required>
                    <option value="<%= newsE.post_category %>" selected><%= newsE.post_category %></option>
                    <option value="tripura">Tripura</option>
                    <option value="national">National</option>
                    <option value="career">Jobs</option>
                    <option value="northeast">Northeast</option>
                    <option value="entertainment">Entertainment</option>
                    <option value="sports">Sports</option>
                    <option value="insight">Insight</option>
                  </select>

                  <br>
                  <!--

                  <div class="input-group">
                    <input type="file" class="form-control" name="myFile" id="file-ip-1" accept="image/*" onchange="showPreview(event);" required>
                  </div>

                   <div class="input-group">
                    <img id="file-ip-1-preview" width="100%" height="300px">
                  </div>

                  -->


                 

                  <div class="input-group mb-3">
                    <span class="input-group-text" id="basic-addon2">Tags</span>
                    <input type="text" class="form-control" name="tags" aria-label="Recipient's username" aria-describedby="basic-addon2" required value="<%= newsE.meta_tags %>">
                 </div>

                 <div class="input-group mb-3">
                    <span class="input-group-text" id="basic-addon2">Topic</span>
                    <input type="text" class="form-control" name="topics" aria-label="Recipient's username" aria-describedby="basic-addon2" required value="<%= newsE.post_topic %>">
                 </div>



                    <select class="form-select form-select-lg mb-3" aria-label=".form-select-lg example" name="editor" required>
                        <option value="<%= newsE.post_editor %>" selected><%= newsE.post_editor %></option>
                        <option selected value="yes">Editor Pick</option>
                        <option value="no">No</option>
                    </select>

                    <select class="form-select form-select-lg mb-3" aria-label=".form-select-lg example" name="insight" required>
                        <option value="<%= newsE.ne_insight %>" selected><%= newsE.ne_insight %></option>

                        <option value="yes" selected>Insight Story</option>
                        <option value="no">No</option>
                    </select>
                    <% } %>

                    <input type="submit" name="Publish" class="btn btn-info" style="width: 100%;">




                  <script>
                       function showPreview(event){
                            if(event.target.files.length > 0){
                            var src = URL.createObjectURL(event.target.files[0]);
                            var preview = document.getElementById("file-ip-1-preview");
                            preview.src = src;
                            preview.style.display = "block";
                            }
                        }
                  </script>

            </div>


        </div>

</form>
    </div>








    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>


  </body>
</html>